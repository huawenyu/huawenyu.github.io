---
layout: post
title:  "network"
date:   2014-02-16 13:31:01 +0800
categories: linux
tags: network
---

* content
{:toc}


# ip config

## ifconfig

## list detail

    # ifconfig -a   # list all interface

    # ifconfig eth0

      eth0   Link encap:Ethernet  HWaddr 00:2D:32:3E:39:3B
      inet addr:192.168.2.2  Bcast:192.168.2.255  Mask:255.255.255.0
      inet6 addr: fe80::21d:92ff:fede:499b/64 Scope:Link
      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
      RX packets:977839669 errors:0 dropped:1990 overruns:0 frame:0
      TX packets:1116825094 errors:8 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:1000
      RX bytes:2694625909 (2.5 GiB)  TX bytes:4106931617 (3.8 GiB)
      Interrupt:185 Base address:0xdc00

## toggle a interface

    # ifconfig eth0 down
    # ifconfig eth0 up

## Assign ip-address

    # ifconfig eth0 192.168.2.2
    # ifconfig eth0 netmask 255.255.255.0
    # ifconfig eth0 broadcast 192.168.2.255
    # ifconfig eth0 mtu 1500

    # ifconfig eth0 192.168.2.2 netmask 255.255.255.0 broadcast 192.168.2.255

## promisc mode

By default when a network card receives a packet,
it checks whether the packet belongs to itself.
If not, the interface card normally drops the packet.
But in promiscuous mode, the card doesn’t drop the packet.
Instead, it will accept all the packets which flows through the network card.

Superuser privilege is required to set an interface in promiscuous mode. Most network monitor tools use the promiscuous mode to capture the packets and to analyze the network traffic.

    # ifconfig eth0 promisc     # put the interface in promiscuous mode
    # ifconfig eth0 -promisc    # put the interface in normal mode.

# ip monitor

## commands

    ### List ports by protocol
    # netstat -a | more <---List All Ports (both listening and non listening ports)
    # netstat -at       <---List all tcp ports
    # netstat -au       <---List all udp ports

    ### List by state=Listening
    # netstat -l
    # netstat -lt
    # netstat -lu       <Active Internet connections>
    # netstat -lx       <Active UNIX domain sockets>

## sample output

    # netstat -a | more

      Active Internet connections (servers and established)
      Proto Recv-Q Send-Q Local Address           Foreign Address         State
      tcp        0      0 localhost:30037         *:*                     LISTEN
      udp        0      0 *:bootpc                *:*

      Active UNIX domain sockets (servers and established)
      Proto RefCnt Flags       Type       State         I-Node   Path
      unix  2      [ ACC ]     STREAM     LISTENING     6135     /tmp/.X11-unix/X0
      unix  2      [ ACC ]     STREAM     LISTENING     5140     /var/run/acpid.socket


    # netstat -at

      Active Internet connections (servers and established)
      Proto Recv-Q Send-Q Local Address           Foreign Address         State
      tcp        0      0 localhost:30037         *:*                     LISTEN
      tcp        0      0 localhost:ipp           *:*                     LISTEN
      tcp        0      0 *:smtp                  *:*                     LISTEN
      tcp6       0      0 localhost:ipp           [::]:*                  LISTEN


    # netstat -au

      Active Internet connections (servers and established)
      Proto Recv-Q Send-Q Local Address           Foreign Address         State
      udp        0      0 *:bootpc                *:*
      udp        0      0 *:49119                 *:*
      udp        0      0 *:mdns                  *:*


## List Sockets which are in Listening State

    # netstat -l

    Active Internet connections (only servers)
    Proto Recv-Q Send-Q Local Address           Foreign Address         State
    tcp        0      0 localhost:ipp           *:*                     LISTEN
    tcp6       0      0 localhost:ipp           [::]:*                  LISTEN
    udp        0      0 *:49119                 *:*
    List only listening TCP Ports using netstat -lt

    # netstat -lt

    Active Internet connections (only servers)
    Proto Recv-Q Send-Q Local Address           Foreign Address         State
    tcp        0      0 localhost:30037         *:*                     LISTEN
    tcp        0      0 *:smtp                  *:*                     LISTEN
    tcp6       0      0 localhost:ipp           [::]:*                  LISTEN
    List only listening UDP Ports using netstat -lu

    # netstat -lu

    Active Internet connections (only servers)
    Proto Recv-Q Send-Q Local Address           Foreign Address         State
    udp        0      0 *:49119                 *:*
    udp        0      0 *:mdns                  *:*
    List only the listening UNIX Ports using netstat -lx

    # netstat -lx

    Active UNIX domain sockets (only servers)
    Proto RefCnt Flags       Type       State         I-Node   Path
    unix  2      [ ACC ]     STREAM     LISTENING     6294     private/maildrop
    unix  2      [ ACC ]     STREAM     LISTENING     6203     public/cleanup
    unix  2      [ ACC ]     STREAM     LISTENING     6302     private/ifmail
    unix  2      [ ACC ]     STREAM     LISTENING     6306     private/bsmtp

3. Show the statistics for each protocol

Show statistics for all ports using netstat -s

    # netstat -s

    Ip:
        11150 total packets received
        1 with invalid addresses
        0 forwarded
        0 incoming packets discarded
        11149 incoming packets delivered
        11635 requests sent out
    Icmp:
        0 ICMP messages received
        0 input ICMP message failed.
    Tcp:
        582 active connections openings
        2 failed connection attempts
        25 connection resets received
    Udp:
        1183 packets received
        4 packets to unknown port received.
    .....


Show statistics for TCP (or) UDP ports using netstat -st (or) -su

    # netstat -st
    # netstat -su


4. Display PID and program names in netstat output using netstat -p

netstat -p option can be combined with any other netstat option. This will add the “PID/Program Name” to the netstat output. This is very useful while debugging to identify which program is running on a particular port.

    # netstat -pt

    Active Internet connections (w/o servers)
    Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
    tcp        1      0 ramesh-laptop.loc:47212 192.168.185.75:www        CLOSE_WAIT  2109/firefox
    tcp        0      0 ramesh-laptop.loc:52750 lax:www ESTABLISHED 2109/firefox

5. Don’t resolve host, port and user name in netstat output

When you don’t want the name of the host, port or user to be displayed, use netstat -n option. This will display in numbers, instead of resolving the host name, port name, user name.

This also speeds up the output, as netstat is not performing any look-up.

    # netstat -an
    If you don’t want only any one of those three items ( ports, or hosts, or users ) to be resolved, use following commands.

    # netsat -a --numeric-ports

    # netsat -a --numeric-hosts

    # netsat -a --numeric-users

6. Print netstat information continuously

netstat will print information continuously every few seconds.

    # netstat -c
    Active Internet connections (w/o servers)
    Proto Recv-Q Send-Q Local Address           Foreign Address         State
    tcp        0      0 ramesh-laptop.loc:36130 101-101-181-225.ama:www ESTABLISHED
    tcp        1      1 ramesh-laptop.loc:52564 101.11.169.230:www      CLOSING
    tcp        0      0 ramesh-laptop.loc:43758 server-101-101-43-2:www ESTABLISHED
    tcp        1      1 ramesh-laptop.loc:42367 101.101.34.101:www      CLOSING
    ^C

7. Find the non supportive Address families in your system

    # netstat --verbose

    At the end, you will have something like this.

    netstat: no support for `AF IPX' on this system.
    netstat: no support for `AF AX25' on this system.
    netstat: no support for `AF X25' on this system.
    netstat: no support for `AF NETROM' on this system.

8. Display the kernel routing information using netstat -r

    # netstat -r

    Kernel IP routing table
    Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
    192.168.1.0     *               255.255.255.0   U         0 0          0 eth2
    link-local      *               255.255.0.0     U         0 0          0 eth2
    default         192.168.1.1     0.0.0.0         UG        0 0          0 eth2
    Note: Use netstat -rn to display routes in numeric format without resolving for host-names.

9. Find out on which port a program is running

    # netstat -ap | grep ssh

    (Not all processes could be identified, non-owned process info
     will not be shown, you would have to be root to see it all.)
    tcp        1      0 dev-db:ssh           101.174.100.22:39213        CLOSE_WAIT  -
    tcp        1      0 dev-db:ssh           101.174.100.22:57643        CLOSE_WAIT  -
    Find out which process is using a particular port:

    # netstat -an | grep ':80'

10. Show the list of network interfaces

    # netstat -i

    Kernel Interface table
    Iface   MTU Met   RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
    eth0       1500 0         0      0      0 0             0      0      0      0 BMU
    eth2       1500 0     26196      0      0 0         26883      6      0      0 BMRU
    lo        16436 0         4      0      0 0             4      0      0      0 LRU
    Display extended information on the interfaces (similar to ifconfig) using netstat -ie:

    # netstat -ie

    Kernel Interface table
    eth0      Link encap:Ethernet  HWaddr 00:10:40:11:11:11
              UP BROADCAST MULTICAST  MTU:1500  Metric:1
              RX packets:0 errors:0 dropped:0 overruns:0 frame:0
              TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
              collisions:0 txqueuelen:1000
              RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
              Memory:f6ae0000-f6b00000

# sniffer

    $ sudo apt-get install wireshark
    $ sudo apt-get install tshark
    $ sudo apt-get install ngrep
    $ sudo apt-get install httpry


## common port

```
+---------------------------------------------------------+
|Port Number|                 Description                 |
|-----------+---------------------------------------------|
|1          |TCP Port Service Multiplexer (TCPMUX)        |
|-----------+---------------------------------------------|
|5          |Remote Job Entry (RJE)                       |
|-----------+---------------------------------------------|
|7          |ECHO                                         |
|-----------+---------------------------------------------|
|18         |Message Send Protocol (MSP)                  |
|-----------+---------------------------------------------|
|20         |FTP -- Data                                  |
|-----------+---------------------------------------------|
|21         |FTP -- Control                               |
|-----------+---------------------------------------------|
|22         |SSH Remote Login Protocol                    |
|-----------+---------------------------------------------|
|23         |Telnet                                       |
|-----------+---------------------------------------------|
|25         |Simple Mail Transfer Protocol (SMTP)         |
|-----------+---------------------------------------------|
|29         |MSG ICP                                      |
|-----------+---------------------------------------------|
|37         |Time                                         |
|-----------+---------------------------------------------|
|42         |Host Name Server (Nameserv)                  |
|-----------+---------------------------------------------|
|43         |WhoIs                                        |
|-----------+---------------------------------------------|
|49         |Login Host Protocol (Login)                  |
|-----------+---------------------------------------------|
|53         |Domain Name System (DNS)                     |
|-----------+---------------------------------------------|
|69         |Trivial File Transfer Protocol (TFTP)        |
|-----------+---------------------------------------------|
|70         |Gopher Services                              |
|-----------+---------------------------------------------|
|79         |Finger                                       |
|-----------+---------------------------------------------|
|80         |HTTP                                         |
|-----------+---------------------------------------------|
|103        |X.400 Standard                               |
|-----------+---------------------------------------------|
|108        |SNA Gateway Access Server                    |
|-----------+---------------------------------------------|
|109        |POP2                                         |
|-----------+---------------------------------------------|
|110        |POP3                                         |
|-----------+---------------------------------------------|
|115        |Simple File Transfer Protocol (SFTP)         |
|-----------+---------------------------------------------|
|118        |SQL Services                                 |
|-----------+---------------------------------------------|
|119        |Newsgroup (NNTP)                             |
|-----------+---------------------------------------------|
|137        |NetBIOS Name Service                         |
|-----------+---------------------------------------------|
|139        |NetBIOS Datagram Service                     |
|-----------+---------------------------------------------|
|143        |Interim Mail Access Protocol (IMAP)          |
|-----------+---------------------------------------------|
|150        |NetBIOS Session Service                      |
|-----------+---------------------------------------------|
|156        |SQL Server                                   |
|-----------+---------------------------------------------|
|161        |SNMP                                         |
|-----------+---------------------------------------------|
|179        |Border Gateway Protocol (BGP)                |
|-----------+---------------------------------------------|
|190        |Gateway Access Control Protocol (GACP)       |
|-----------+---------------------------------------------|
|194        |Internet Relay Chat (IRC)                    |
|-----------+---------------------------------------------|
|197        |Directory Location Service (DLS)             |
|-----------+---------------------------------------------|
|389        |Lightweight Directory Access Protocol (LDAP) |
|-----------+---------------------------------------------|
|396        |Novell Netware over IP                       |
|-----------+---------------------------------------------|
|443        |HTTPS                                        |
|-----------+---------------------------------------------|
|444        |Simple Network Paging Protocol (SNPP)        |
|-----------+---------------------------------------------|
|445        |Microsoft-DS                                 |
|-----------+---------------------------------------------|
|458        |Apple QuickTime                              |
|-----------+---------------------------------------------|
|546        |DHCP Client                                  |
|-----------+---------------------------------------------|
|547        |DHCP Server                                  |
|-----------+---------------------------------------------|
|563        |SNEWS                                        |
|-----------+---------------------------------------------|
|569        |MSN                                          |
|-----------+---------------------------------------------|
|1080       |Socks                                        |
+---------------------------------------------------------+
```

## tshark

### list interfaces

    > $ tshark -D
    > tshark: There are no interfaces on which a capture can be done

    $ sudo tshark -D            # et a list of the available network interfaces
    1. eth0
    2. nflog (Linux netfilter log (NFLOG) interface)
    3. any (Pseudo-device that captures on all interfaces)
    4. lo

### capture

    $ tshark -i eth0
    $ tshark -i eth0 -c 500 -w /tmp/http-test.pcap      # capture-to file
    $ tshark -r /tmp/http-test.pcap                     # view content of capture-file

#### capture with protocol

    $ tshark -i eth0 -Y "http"
    $ tshark -i eth0 -Y "icmp"

### search from capture

    $ tshark -r nmap.pcap -R "ip.src == 2.x.yy.6 || ip.dst == 2.x.yy.6"
    $ tshark -q -r http.pcap -R http -z http,tree
    $ tshark -r nmap.pcap -R "icmp"

### filter

    $ tshark -w /tmp/dhcp.pcap -f "port 67 or port 68" -i eth1 -P
        -f "host 192.168.1.100 and (dst port 53 or 80)"
        -f "not broadcast and not multicast"
        -f "http.response.code == 404 && ip.addr == 192.168.10.1"
        -f "tcp.port == 25"
        -Y "ip.addr==192.168.1.1"
        -Y "tcp.port== 8800 and http.request"
        -Y "not arp or icmp"
        -d udp.port==8472,vxlan -r 1.cap "tcp.analysis.duplicate_ack_num==1"

    $ tshark -r /tmp/dhcp.pcap bootp.option.dhcp == 1
    $ tshark -r ~/dhcp.pcap -V frame.number == 1        # view content of a single packet

### formatting

    $ tshark -i eth2 -O  icmp
        -V verbose and display details about packets
        -O like the -V option, however this will show details of a specific protocol

### list of IP conversations

    $ tshark -r cap.pcap -z conv,ip

## ngrep

    $ sudo apt-get install ngrep
    $ ngrep [options] pattern [filter]

    ### if pattern = '' means match anything
    $ sudo ngrep -q ''  "host 10.1.1.129 and port 80 and not port 22"
    $ sudo ngrep -q -d eth1 ''  'src host 10.1.1.129 and port 80'

### capture to file

```
    # ngrep -O /tmp/dns.dump -d any -T port domain
        interface: any
        filter: ip and ( port domain )
        output: /tmp/dns.dump

    # ngrep -I /tmp/dns.dump port 80
        input: /tmp/dns.dump
        filter: ip and ( port 80 )

```

### protocol

    $ ngrep -q 'HTTP' 'tcp'
    $ ngrep -q 'HTTP' 'udp'
    $ ngrep -q 'HTTP' 'icmp'

### filter

    $ ngrep -q 'HTTP' 'host 192.168'
    $ ngrep -q 'HTTP' 'dst host 192.168'
    $ ngrep -q 'HTTP' 'port 80'

    ### only filter working
    $ ngrep -q '' -e 'host xx.xx.xxx.170 and not udp port 22'

### content match

```
    $ ngrep -t '^(GET|POST) ' 'src host 12.13.14.15 and tcp and dst port 80'

        The caret (^) instructs ngrep to only look at the beginning of the packet payload. As above, the (...|...) will match
        either GET or POST. Ngrep will show just the actual web requests:

    $ ngrep -t '^(GET|POST) ' 'src host 12.13.14.15 and tcp and dst port 80'

        interface: eth0 (12.13.14.0/255.255.255.0)
        filter: ip and ( src host 12.13.14.15 and tcp and dst port 80 )
        match: ^(GET|POST)


    $ ngrep -t '' 'tcp and port 80'

    $ ngrep -t '^(GET|POST|HEAD) ' 'dst host 67.207.152.20 and tcp and dst port 80' -W byline

        interface: wlan0 (192.168.1.0/255.255.255.0)
        filter: (ip or ip6) and ( dst host 67.207.152.20 and tcp and dst port 80 )
        match: ^(GET|POST|HEAD) 

        ###
        T 2015/06/11 12:11:07.697041 192.168.1.15:34153 -> 67.207.152.20:80 [AP]
        HEAD / HTTP/1.1.
        User-Agent: curl/7.35.0.
        Host: xtof.ch.
        Accept: */*.
        .

        ###
```

### Sample

```
    $ sudo ngrep port 80

        interface: wlp3s0 (192.168.0.0/255.255.255.0)
        filter: (ip or ip6) and ( port 80 )
        ######
        T 192.168.0.121:43314 -> 198.167.239.174:80 [AP]
          GET / HTTP/1.1..Host: www.tired.com..User-Agent: curl/7.47.0..Accept: */*....
        ##
        T 198.167.239.174:80 -> 192.168.0.121:43314 [AP]
          HTTP/1.1 200 OK..Date: Thu, 06 Apr 2017 06:01:00 GMT..Server: Apache/2.2.16 (Debian)..Last-Modified: Mon, 29 Sep 2003 08:34:25 GMT.
          .ETag: "3d7130-b8-3c873c3fc0640"..Accept-Ranges: bytes..Content-Length: 184..Vary: Accept-Encoding..Content-Type: text/html..X-Pad:
           avoid browser bug....<HTML>.<HEAD>.<TITLE>Are you tired?</TITLE>.</HEAD>.<BODY BGCOLOR=#FFFFFF>.<PRE>.<CENTER>....Are you tired?..
          Tell <a href="mailto:tired@tired.com">us</a> why..</CENTER>.</PRE>.</BODY>.
        ####


    $ sudo ngrep -W byline port 80

        interface: wlp3s0 (192.168.0.0/255.255.255.0)
        filter: (ip or ip6) and ( port 80 )
        ####
        T 192.168.0.121:43318 -> 198.167.239.174:80 [AP]
        GET / HTTP/1.1.
        Host: www.tired.com.
        User-Agent: curl/7.47.0.
        Accept: */*.
        .

        ##
        T 198.167.239.174:80 -> 192.168.0.121:43318 [AP]
        HTTP/1.1 200 OK.
        Date: Thu, 06 Apr 2017 06:03:04 GMT.
        Server: Apache/2.2.16 (Debian).
        Last-Modified: Mon, 29 Sep 2003 08:34:25 GMT.
        ETag: "3d7130-b8-3c873c3fc0640".
        Accept-Ranges: bytes.
        Content-Length: 184.
        Vary: Accept-Encoding.
        Content-Type: text/html.
        X-Pad: avoid browser bug.
        .
        <HTML>
        <HEAD>
        <TITLE>Are you tired?</TITLE>
        </HEAD>
        <BODY BGCOLOR=#FFFFFF>
        <PRE>
        <CENTER>

        Are you tired?

        Tell <a href="mailto:tired@tired.com">us</a> why.
        </CENTER>
        </PRE>
        </BODY>

        ####
```

## httpry

    $ sudo apt install httpry

    $ sudo httpry -i eth0
    $ sudo httpry -i eth0 'host 192.168.5.25'

    $ sudo httpry -i eth0 -b output.dump    # save raw HTTP packets into a binary file
    $ httpry -r output.dump                 # replay saved HTTP packets

    $ sudo httpry -i eth0 -o output.txt     # save httpry's output to a text file
    $ sudo httpry -i eth0 -m get,head


  [1]: https://sourceware.org/gdb/onlinedocs/gdb/gdbserver-man.html
  [2]: https://sourceware.org/gdb/wiki/FAQ
  [3]: https://blogs.oracle.com/ksplice/entry/8_gdb_tricks_you_should
  [4]: http://sourceware.org/gdb/onlinedocs/gdb/Continuing-and-Stepping.html
  [5]: https://github.com/huawenyu/neogdb.vim


tshark -i 1 -R xml -T fields -e frame - frame.time -e ip.src -e ip.dst -e tcp -e xml -V -l

sudo tshark -i vlan125 -f "port 80" -T fields -e eth.src -e ip.src -e eth.dst -e ip.dst -e tcp

tshark -T fields -e udp.length -f "port 53" > udplength.txt

Now where TSHARK becomes really powerful is when you combine it with Linux’s powerful command line text manipulation like grep, sort, uniq, sed or gawk.  Say for example you wanted to see a list of all the destination IP addresses and how many times they have talked in a particular PCAP file.  Run the below command:

$ sudo tshark -r http.pcap -T fields -e ip.dst | sort | uniq -c

So what does each of those command switches do?  Well, the -r switch reads in an existing pcap file.  The -T switch we’ve already talked about, but I made sure to us the fields command to tell it I wanted specific fields to be output and finally the -e function tells TSHARK which fields you want outputted.  Now if I were to just run the TSHARK command I would get all the destination IP addresses for every packet in the http.pcap file.  That’s fine, but what I’ve done is piped that list in to sort and uniq -c and that counts the unique IP addresses and the number of times that IP address shows up in the PCAP list.

In the example above we only looked at one field, but what if you want to see more than one field within a packet?  Well that’s pretty easy as well, just add multiple -e flags with all the fields you want to see.  So for example if you wanted to see the source IP, source port, destination IP and destination port all together you would run something like this:

$ sudo tshark -r http.pcap -T fields -e ip.src -e tcp.srcport -e ip.dst -e tcp.dstport






KVM-125 # dia netlink interface list | grep vlan125 -C6

if=port_ha family=00 type=1 index=8 mtu=1496 link=0 master=0
ref=11 state=off start present fw_flags=0 flags=up broadcast multicast

if=vsys_fgfm family=00 type=772 index=9 mtu=16436 link=0 master=0
ref=15 state=off start fw_flags=0 flags=up loopback run

if=vlan125 family=00 type=1 index=11 mtu=1500 link=0 master=0
ref=15 state=off start fw_flags=0 flags=up broadcast run multicast


KVM-125 # sys ifconfig vlan125
vlan125 Link encap:Ethernet  HWaddr 52:54:00:BD:0C:1C
        inet addr:192.168.17.125  Bcast:192.168.17.255  Mask:255.255.255.0
        UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
        RX packets:176 errors:0 dropped:0 overruns:0 frame:0
        TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
        collisions:0 txqueuelen:1000
        RX bytes:13933 (13.6 KB)  TX bytes:15071 (14.7 KB)



sudo tshark -i vlan125 -f "port 80" -T fields -e eth.src -e ip.src -e eth.dst -e ip.dst -e tcp

52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 0, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46929 (46929), Seq: 0, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 1, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 1, Ack: 1, Len: 77
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46929 (46929), Seq: 1, Ack: 78, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46929 (46929), Seq: 1, Ack: 78, Len: 468
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 78, Ack: 469, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 78, Ack: 469, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46929 (46929), Seq: 469, Ack: 79, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46929 (46929), Dst Port: http (80), Seq: 79, Ack: 470, Len: 0
85 52:54:00:83:88:c2    192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 0, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46930 (46930), Seq: 0, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 1, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 1, Ack: 1, Len: 77
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46930 (46930), Seq: 1, Ack: 78, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46930 (46930), Seq: 1, Ack: 78, Len: 468
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 78, Ack: 469, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 78, Ack: 469, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46930 (46930), Seq: 469, Ack: 79, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46930 (46930), Dst Port: http (80), Seq: 79, Ack: 470, Len: 0
95 52:54:00:83:88:c2    192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46931 (46931), Dst Port: http (80), Seq: 0, Len: 0
96 52:54:00:83:88:c2    192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46931 (46931), Dst Port: http (80), Seq: 0, Len: 0
97 52:54:00:83:88:c2    192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46932 (46932), Dst Port: http (80), Seq: 0, Len: 0
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46932 (46932), Seq: 0, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46932 (46932), Dst Port: http (80), Seq: 1, Ack: 1, Len: 0
52:54:00:83:88:c2       192.168.17.122  52:54:00:bd:0c:1c       198.167.239.174 Transmission Control Protocol, Src Port: 46932 (46932), Dst Port: http (80), Seq: 1, Ack: 1, Len: 77
52:54:00:bd:0c:1c       198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46932 (46932), Seq: 1, Ack: 78, Len: 0
102 52:54:00:bd:0c:1c   198.167.239.174 52:54:00:83:88:c2       192.168.17.122  Transmission Control Protocol, Src Port: http (80), Dst Port: 46932 (46932), Seq: 1, Ack: 78, Len: 0
103




 ip link
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:83:88:c2 brd ff:ff:ff:ff:ff:ff
3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:f0:5b:54 brd ff:ff:ff:ff:ff:ff
4: vlan125@eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP mode DEFAULT group default
    link/ether 52:54:00:83:88:c2 brd ff:ff:ff:ff:ff:ff
➜  ~


391  sudo ip link help
  392  sudo ip link add link eth0 name vlan125 type vlan id 125
  393  sudo ip addr add 192.168.17.122/24 dev vlan125
  394  sudo ip route change default via 192.168.17.125
  395  ping 202.38.64.3
  396  ip route list
  397  ping 192.168.17.125
  398  sudo ip link list
  399  ping 192.168.17.125
  400  telnet 192.168.17.125
  401  curl www.tired.com
  402  ping www.google.com


